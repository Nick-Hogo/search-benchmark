# æ¨¡å— 02ï¼šæµ‹è¯•æ‰§è¡Œè¯¦ç»†æµç¨‹

æœ¬æ¨¡å—å®šä¹‰å•ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œæµç¨‹ã€‚

## è¾“å…¥å‚æ•°

ä»ä¸»å¾ªç¯æ¥æ”¶ï¼š
```
{
  "test_case": {
    "id": "T1-freshness-7days",
    "name": "ç¡¬7å¤©çª—å£ï¼ˆæ–°é—»/å…¬å‘Šï¼‰",
    "category": "æ—¶æ•ˆæ€§",
    "prompt": "è¯·æ€»ç»“è¿‡å»7å¤©å†…...",
    "judgment_criteria": [...],
    "max_score": 10
  },
  "tool_config": {
    "id": "grok-search",
    "name": "Grok Search MCP",
    "tool_name": "mcp__grok-search__web_search"
  }
}
```

---

## æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤ 1ï¼šå‡†å¤‡é˜¶æ®µ

```
1.1 åˆå§‹åŒ–ç»“æœå¯¹è±¡
  test_result = {
    "test_case_id": test_case.id,
    "test_case_name": test_case.name,
    "category": test_case.category,
    "tool_used": tool_config.id,
    "tool_name": tool_config.name,
    "status": "running"
  }
```

### æ­¥éª¤ 2ï¼šæ‰§è¡Œæœç´¢

```
2.1 æ„å»ºæœç´¢æŸ¥è¯¢
  ä» test_case.prompt æå–å…³é”®ä¿¡æ¯
  æ„å»ºé€‚åˆæœç´¢å·¥å…·çš„æŸ¥è¯¢å­—ç¬¦ä¸²

ç¤ºä¾‹ï¼š
  prompt: "è¯·æ€»ç»“è¿‡å»7å¤©å†…ï¼ŒAIé¢†åŸŸå‘ç”Ÿçš„3æ¡æœ€é‡è¦æ›´æ–°"
  â†’ æŸ¥è¯¢: "AIæœ€æ–°æ›´æ–° è¿‡å»7å¤©"

2.2 è°ƒç”¨æœç´¢å·¥å…·
  search_start = $(python utils/timestamp.py)

  å¦‚æœ tool_config.tool_name == "mcp__grok-search__web_search":
    è°ƒç”¨ï¼šmcp__grok-search__web_search
    å‚æ•°ï¼š
      query: æ„å»ºçš„æŸ¥è¯¢å­—ç¬¦ä¸²
      min_results: 3
      max_results: 10

  å¦‚æœ tool_config.tool_name == "WebSearch":
    è°ƒç”¨ï¼šWebSearch
    å‚æ•°ï¼š
      query: æ„å»ºçš„æŸ¥è¯¢å­—ç¬¦ä¸²

  search_end = $(python utils/timestamp.py)

2.3 è®°å½•åŸå§‹æœç´¢ç»“æœ
  test_result.search_start = search_start
  test_result.search_end = search_end
  test_result.raw_search_results = æœç´¢å·¥å…·è¿”å›çš„JSON
  test_result.result_count = ç»“æœæ•°é‡

é”™è¯¯å¤„ç†ï¼š
  å¦‚æœæœç´¢å¤±è´¥ï¼š
    test_result.status = "failed"
    test_result.error = é”™è¯¯ä¿¡æ¯
    test_result.score = 0
    è·³åˆ°æ­¥éª¤ 5ï¼ˆä¿å­˜ç»“æœï¼‰
```

### æ­¥éª¤ 3ï¼šç”Ÿæˆç­”æ¡ˆ

**å…³é”®**ï¼šä½ éœ€è¦åŸºäºæœç´¢ç»“æœï¼Œç”Ÿæˆå®Œæ•´çš„è‡ªç„¶è¯­è¨€ç­”æ¡ˆã€‚

```
3.1 åˆ†ææœç´¢ç»“æœ
  - æå–ç›¸å…³ä¿¡æ¯
  - éªŒè¯ä¿¡æ¯çš„æ—¶æ•ˆæ€§
  - æ£€æŸ¥æ¥æºå¯é æ€§

3.2 ç”Ÿæˆç»“æ„åŒ–ç­”æ¡ˆ
  æ ¹æ® test_case.prompt çš„è¦æ±‚æ ¼å¼åŒ–ç­”æ¡ˆ

ç¤ºä¾‹ç­”æ¡ˆç»“æ„ï¼ˆé’ˆå¯¹ T1 æµ‹è¯•ï¼‰ï¼š
  """
  æ ¹æ®æœç´¢ç»“æœï¼Œè¿‡å»7å¤©å†…AIé¢†åŸŸçš„é‡è¦æ›´æ–°ï¼š

  1. **[äº‹ä»¶åç§°]**
     - æ¥æºï¼š[æ ‡é¢˜](URL)
     - å‘å¸ƒæ—¥æœŸï¼šYYYY-MM-DD
     - æ¦‚è¿°ï¼š[ç®€è¦è¯´æ˜]

  2. **[äº‹ä»¶åç§°]**
     - æ¥æºï¼š[æ ‡é¢˜](URL)
     - å‘å¸ƒæ—¥æœŸï¼šYYYY-MM-DD
     - æ¦‚è¿°ï¼š[ç®€è¦è¯´æ˜]

  3. **[äº‹ä»¶åç§°]** æˆ– "æœªæ‰¾åˆ°ç¬¬ä¸‰æ¡ç¬¦åˆæ—¶é—´çª—å£çš„æ›´æ–°"
     - ...
  """

3.3 è®°å½•ç­”æ¡ˆ
  answer_end = $(python utils/timestamp.py)
  test_result.answer_end = answer_end
  test_result.answer = ç”Ÿæˆçš„å®Œæ•´ç­”æ¡ˆ
```

### æ­¥éª¤ 4ï¼šè®°å½•å®Œæˆ

```
test_result.status = "completed"
```

---

## ç­”æ¡ˆç”ŸæˆæŒ‡å—

### æ—¶æ•ˆæ€§ç±»æµ‹è¯•
```
è¦ç‚¹ï¼š
- ä¸¥æ ¼æ£€æŸ¥æ—¥æœŸ
- å¦‚æœä¸è¶³è¦æ±‚æ•°é‡ï¼Œè¯šå®è¯´æ˜
- æ˜ç¡®æ ‡æ³¨ç»Ÿè®¡åŒºé—´

ç¤ºä¾‹ï¼š
  âœ… å¥½ç­”æ¡ˆï¼š
    "åœ¨è¿‡å»7å¤©å†…ï¼ˆ2026-01-25 è‡³ 2026-02-01ï¼‰ï¼Œæ‰¾åˆ°2æ¡æ›´æ–°ï¼š..."

  âŒ åç­”æ¡ˆï¼š
    "AIé¢†åŸŸçš„æœ€æ–°æ›´æ–°åŒ…æ‹¬ï¼š..." (æ²¡æœ‰æ˜ç¡®æ—¶é—´èŒƒå›´)
```

### å‡†ç¡®åº¦ç±»æµ‹è¯•
```
è¦ç‚¹ï¼š
- ç»™å‡ºå…·ä½“æ•°æ®
- å¼•ç”¨å®˜æ–¹æ¥æº
- é¿å…æ¨¡ç³Šè¡¨è¿°

ç¤ºä¾‹ï¼š
  âœ… å¥½ç­”æ¡ˆï¼š
    "æ ¹æ®GitHubå®˜æ–¹æ–‡æ¡£ï¼Œå…è´¹ç”¨æˆ·çš„å¹¶å‘é™åˆ¶ä¸º20ä¸ª..."
    æ¥æºï¼šhttps://docs.github.com/...

  âŒ åç­”æ¡ˆï¼š
    "GitHub Actionsæœ‰ä¸€äº›é™åˆ¶..." (è¿‡äºæ¨¡ç³Š)
```

### æŠ—å¹»è§‰ç±»æµ‹è¯•
```
è¦ç‚¹ï¼š
- å¦‚æœæ‰¾ä¸åˆ°è¯æ®ï¼Œæ˜ç¡®è¯´æ˜
- ä¸ç¼–é€ ä¿¡æ¯
- æä¾›åè¯æ¸ é“

ç¤ºä¾‹ï¼ˆé’ˆå¯¹è™šå‡ä¿¡æ¯ï¼‰ï¼š
  âœ… å¥½ç­”æ¡ˆï¼š
    "ç»æœç´¢ï¼Œæœªæ‰¾åˆ°OpenAIå‘å¸ƒGPT-5.5çš„å®˜æ–¹æ¶ˆæ¯ã€‚
     æ£€æŸ¥äº†OpenAIå®˜æ–¹åšå®¢ï¼ˆopenai.com/blogï¼‰å’ŒTwitterè´¦å·ï¼Œ
     æœ€æ–°ç‰ˆæœ¬ä»ä¸ºGPT-4 Turboã€‚"

  âŒ åç­”æ¡ˆï¼š
    "æ˜¯çš„ï¼ŒGPT-5.5å·²å‘å¸ƒ..." (ç¼–é€ )
```

### å¯æ ¸æŸ¥æ€§ç±»æµ‹è¯•
```
è¦ç‚¹ï¼š
- æ¯ä¸ªä¸»å¼ å•ç‹¬å¼•ç”¨
- æä¾›å¯ç‚¹å‡»çš„é“¾æ¥
- å¼•ç”¨å†…å®¹ä¸ä¸»å¼ åŒ¹é…

ç¤ºä¾‹ï¼š
  âœ… å¥½ç­”æ¡ˆï¼š
    "REST API å’Œ GraphQL çš„æ ¸å¿ƒå·®å¼‚ï¼š
     1. æ•°æ®è·å–æ–¹å¼ï¼šRESTé€šè¿‡å¤šä¸ªç«¯ç‚¹ï¼ŒGraphQLé€šè¿‡å•ä¸€ç«¯ç‚¹
        æ¥æºï¼š[GraphQLå®˜æ–¹æ–‡æ¡£](https://graphql.org/learn/)
     2. è¿‡åº¦è·å–é—®é¢˜ï¼šRESTå®¹æ˜“è¿‡åº¦è·å–ï¼ŒGraphQLæŒ‰éœ€è¯·æ±‚
        æ¥æºï¼š[Apollo GraphQLæ•™ç¨‹](https://apollographql.com/...)
     ..."

  âŒ åç­”æ¡ˆï¼š
    "RESTå’ŒGraphQLæœ‰ä»¥ä¸‹åŒºåˆ«ï¼š[åˆ—å‡º3ç‚¹]
     å‚è€ƒèµ„æ–™ï¼š[é“¾æ¥1] [é“¾æ¥2]" (å¼•ç”¨å †ç Œ)
```

### æ•ˆç‡ç±»æµ‹è¯•
```
è¦ç‚¹ï¼š
- æ»¡è¶³è´¨é‡è¦æ±‚çš„å‰æä¸‹è¿½æ±‚é€Ÿåº¦
- ä¸ä¸ºé€Ÿåº¦ç‰ºç‰²å‡†ç¡®æ€§
- æ§åˆ¶è¾“å‡ºé•¿åº¦

ç¤ºä¾‹ï¼š
  âœ… å¥½ç­”æ¡ˆï¼ˆ200å­—ä»¥å†…ï¼‰ï¼š
    "è¿‡å»14å¤©å¤§æ¨¡å‹æ¨ç†æ•ˆç‡ä¼˜åŒ–è¿›å±•ï¼š
     1. OpenAIæ¨å‡ºGPT-4 Turboä¼˜åŒ–ç‰ˆï¼ˆ1/28ï¼‰ï¼Œæ¨ç†é€Ÿåº¦æå‡30%
        æ¥æºï¼šhttps://...
     2. ..."

  âŒ åç­”æ¡ˆï¼š
    å†—é•¿çš„æè¿°è¶…è¿‡500å­—ï¼Œæˆ–çœç•¥æ¥æº
```

---

## è¾“å‡ºæ ¼å¼

æ‰§è¡Œå®Œæˆåè¿”å›ï¼š
```json
{
  "test_case_id": "T1-freshness-7days",
  "test_case_name": "ç¡¬7å¤©çª—å£ï¼ˆæ–°é—»/å…¬å‘Šï¼‰",
  "category": "æ—¶æ•ˆæ€§",
  "tool_used": "grok-search",
  "tool_name": "Grok Search MCP",
  "search_start": 1738410615123,
  "search_end": 1738410618456,
  "answer_end": 1738410621234,
  "status": "completed",
  "answer": "æ ¹æ®æœç´¢ç»“æœï¼Œè¿‡å»7å¤©å†…...",
  "raw_search_results": {...},
  "result_count": 6
}
```

æ—¶é—´æˆ³è¯´æ˜ï¼ˆæ¯«ç§’ï¼‰ï¼š
- `search_start`: æœç´¢å¼€å§‹
- `search_end`: æœç´¢å®Œæˆï¼ˆ= ç­”æ¡ˆç”Ÿæˆå¼€å§‹ï¼‰
- `answer_end`: ç­”æ¡ˆç”Ÿæˆå®Œæˆ

è€—æ—¶è®¡ç®—ï¼š
- æœç´¢è€—æ—¶ = (search_end - search_start) / 1000
- åˆ†æè€—æ—¶ = (answer_end - search_end) / 1000
- æ€»è€—æ—¶ = (answer_end - search_start) / 1000

---

## è¿›åº¦æç¤º

```
å¼€å§‹ï¼šğŸ” [1/12] T1-freshness-7days (grok-search)
å®Œæˆï¼šâœ… [1/12] T1-freshness-7days (grok-search) | 6.1s
```
