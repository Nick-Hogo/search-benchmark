---
name: run
description: æ‰§è¡Œæœç´¢å·¥å…·èƒ½åŠ›åŸºå‡†æµ‹è¯•çš„å®Œæ•´æµç¨‹ï¼ˆå¹¶è¡Œç‰ˆæœ¬ï¼‰
argument-hint: "[æ— å‚æ•°] æ‰§è¡ŒåŽé€šè¿‡äº¤äº’å¼é€‰æ‹©æµ‹è¯•èŒƒå›´"
allowed-tools:
  - Read
  - Write
  - Bash
  - Task
  - TaskOutput
  - AskUserQuestion
  - mcp__grok-search__web_search
  - mcp__grok-search__web_fetch
  - WebSearch
  - WebFetch
  - Glob
---

# æœç´¢èƒ½åŠ›åŸºå‡†æµ‹è¯• - å¹¶è¡Œæ‰§è¡Œå‘½ä»¤

ä½ å°†æ‰§è¡Œå®Œæ•´çš„æœç´¢å·¥å…·èƒ½åŠ›åŸºå‡†æµ‹è¯•æµç¨‹ï¼ˆå¹¶è¡Œä¼˜åŒ–ç‰ˆæœ¬ï¼‰ã€‚

## æ‰§è¡Œæµç¨‹æ¦‚è§ˆ

```
é˜¶æ®µä¸€ï¼šåˆå§‹åŒ–å‡†å¤‡ â†’
é˜¶æ®µäºŒï¼šå¹¶è¡Œæµ‹è¯•æ‰§è¡Œï¼ˆå¤šä¸ª agents åŒæ—¶è¿è¡Œï¼‰â†’
é˜¶æ®µä¸‰ï¼šæ±‡æ€»ç­”å· â†’
é˜¶æ®µå››ï¼šè¯„åˆ†åˆ†æž â†’
é˜¶æ®µäº”ï¼šæŠ¥å‘Šç”Ÿæˆ
```

---

## é˜¶æ®µä¸€ï¼šåˆå§‹åŒ–å‡†å¤‡

### æ­¥éª¤ 1.1ï¼šåŠ è½½æµ‹è¯•ç”¨ä¾‹é…ç½®

è¯»å–æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼š
```bash
Read: data/test-cases.yml
```

è§£æž YAML ç»“æž„èŽ·å–ï¼š
- `timeliness_tests`: æ—¶æ•ˆæ€§æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
- `accuracy_tests`: å‡†ç¡®åº¦æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
- `anti_hallucination_tests`: æŠ—å¹»è§‰æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
- `verifiability_tests`: å¯æ ¸æŸ¥æ€§æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
- `efficiency_tests`: æ•ˆçŽ‡æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
- `targets.search_tools`: å¯ç”¨çš„æœç´¢å·¥å…·é…ç½®

---

### æ­¥éª¤ 1.2ï¼šäº¤äº’å¼é€‰æ‹©æµ‹è¯•èŒƒå›´

ä½¿ç”¨ AskUserQuestion å·¥å…·è¯¢é—®ç”¨æˆ·ï¼š

**é—®é¢˜ 1ï¼šé€‰æ‹©æµ‹è¯•ç»´åº¦**
```
é—®é¢˜ï¼šè¯·é€‰æ‹©è¦æµ‹è¯•çš„ç»´åº¦
é€‰é¡¹ï¼š
- å…¨éƒ¨ï¼ˆ12ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- æ—¶æ•ˆæ€§ï¼ˆ3ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- å‡†ç¡®åº¦ï¼ˆ3ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- æŠ—å¹»è§‰ï¼ˆ3ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- å¯æ ¸æŸ¥æ€§ï¼ˆ2ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- æ•ˆçŽ‡ï¼ˆ1ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
```

**é—®é¢˜ 2ï¼šé€‰æ‹©æµ‹è¯•å·¥å…·**
```
é—®é¢˜ï¼šè¯·é€‰æ‹©è¦æµ‹è¯•çš„æœç´¢å·¥å…·
é€‰é¡¹ï¼š
- Grok Search MCPï¼ˆæŽ¨èï¼‰
- Built-in WebSearch
- ä¸¤è€…éƒ½æµ‹è¯•ï¼ˆå¯¹æ¯”æ¨¡å¼ï¼‰
```

æ ¹æ®ç”¨æˆ·é€‰æ‹©ï¼Œæž„å»ºæµ‹è¯•ä»»åŠ¡åˆ—è¡¨ã€‚

---

### æ­¥éª¤ 1.3ï¼šåˆ›å»ºæµ‹è¯•ä¼šè¯ç›®å½•

èŽ·å–å½“å‰æ—¥æœŸæ—¶é—´ï¼Œæ ¼å¼åŒ–ä¸ºï¼š`YYYYMMDD-HHMMSS`

ç¡®å®šä¼šè¯ç›®å½•è·¯å¾„ï¼š
```
/search-benchmark/{model-name}-{timestamp}/
```

å…¶ä¸­ `{model-name}` æ ¹æ®æµ‹è¯•å·¥å…·ç¡®å®šï¼š
- å¦‚æžœæµ‹è¯• Grok Search â†’ `grok-search`
- å¦‚æžœæµ‹è¯• Built-in WebSearch â†’ `builtin-websearch`
- å¦‚æžœä¸¤è€…éƒ½æµ‹è¯• â†’ `comparison`

åˆ›å»ºç›®å½•ç»“æž„ï¼š
```bash
mkdir -p "/search-benchmark/{session_id}/raw/{tool_id}"
mkdir -p "/search-benchmark/{session_id}/answers/{tool_id}"
mkdir -p "/search-benchmark/{session_id}/compiled"
mkdir -p "/search-benchmark/{session_id}/analysis"
```

---

### æ­¥éª¤ 1.4ï¼šæ˜¾ç¤ºæµ‹è¯•ä¿¡æ¯

å‘ç”¨æˆ·æ˜¾ç¤ºï¼š
```
ðŸš€ æœç´¢èƒ½åŠ›åŸºå‡†æµ‹è¯•ï¼ˆå¹¶è¡Œæ¨¡å¼ï¼‰

æµ‹è¯•ç»´åº¦ï¼š{é€‰æ‹©çš„ç»´åº¦}
æµ‹è¯•å·¥å…·ï¼š{é€‰æ‹©çš„å·¥å…·}
æµ‹è¯•ç”¨ä¾‹æ•°ï¼š{total_count}
ä¼šè¯ç›®å½•ï¼š/search-benchmark/{session_id}/

âš¡ å¹¶è¡Œæ‰§è¡Œï¼šå°†åŒæ—¶å¯åŠ¨å¤šä¸ªæµ‹è¯• agents
ðŸ“ ç‹¬ç«‹å­˜å‚¨ï¼šæ¯ä¸ªé—®é¢˜çš„ç»“æžœä¿å­˜åˆ°ç‹¬ç«‹æ–‡ä»¶

å‡†å¤‡å¼€å§‹æ‰§è¡Œ...
```

---

## é˜¶æ®µäºŒï¼šå¹¶è¡Œæµ‹è¯•æ‰§è¡Œ

**âš ï¸ æ ¸å¿ƒæ”¹è¿›**ï¼šæ­¤é˜¶æ®µä½¿ç”¨å¹¶è¡Œæ‰§è¡Œï¼Œå¤§å¹…æå‡é€Ÿåº¦ã€‚

### æ­¥éª¤ 2.1ï¼šæ‰¹é‡å¯åŠ¨ Answer Generator Agents

**å¹¶è¡Œç­–ç•¥**ï¼š
- å°†æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹åˆ†æ‰¹ï¼ˆå»ºè®®æ¯æ‰¹ 3-5 ä¸ªï¼Œé¿å…å¹¶å‘è¿‡é«˜ï¼‰
- åœ¨å•ä¸ªå“åº”ä¸­å¯åŠ¨å¤šä¸ª Task toolsï¼ˆrun_in_background: trueï¼‰
- æ¯ä¸ª agent å¤„ç†ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹

**ç¤ºä¾‹ï¼šå¹¶è¡Œå¯åŠ¨ 3 ä¸ªæµ‹è¯•**

```
åœ¨å•ä¸ªå“åº”ä¸­æ‰§è¡Œä»¥ä¸‹ 3 ä¸ª Task tool è°ƒç”¨ï¼š

Task 1:
  subagent_type: "answer-generator"
  description: "æµ‹è¯• T1-freshness-7days"
  run_in_background: true
  prompt: |
    ä½ éœ€è¦å®Œæˆä¸€ä¸ªæœç´¢æµ‹è¯•ä»»åŠ¡ã€‚

    **æµ‹è¯•ç”¨ä¾‹ ID**: T1-freshness-7days
    **æµ‹è¯•ç±»åˆ«**: æ—¶æ•ˆæ€§
    **æµ‹è¯•å·¥å…·**: {tool_config.tool_name}

    **æµ‹è¯•é—®é¢˜**:
    {test_case.prompt}

    **ä½ çš„ä»»åŠ¡**:
    1. ä½¿ç”¨æŒ‡å®šçš„æœç´¢å·¥å…·èŽ·å–ä¿¡æ¯
    2. åŸºäºŽæœç´¢ç»“æžœç”Ÿæˆè‡ªç„¶è¯­è¨€ç­”æ¡ˆ
    3. è®°å½•å…ƒæ•°æ®ï¼ˆæ—¶é—´æˆ³ã€æœç´¢æŸ¥è¯¢ã€ç»“æžœæ•°é‡ï¼‰

    **è¾“å‡ºæ ¼å¼**ï¼ˆJSONï¼‰:
    {
      "test_case_id": "T1-freshness-7days",
      "search_query": "ä½ ä½¿ç”¨çš„æœç´¢æŸ¥è¯¢",
      "search_start": "ISO8601æ—¶é—´æˆ³",
      "search_end": "ISO8601æ—¶é—´æˆ³",
      "answer_end": "ISO8601æ—¶é—´æˆ³",
      "raw_results": {æœç´¢å·¥å…·è¿”å›žçš„å®Œæ•´JSON},
      "result_count": ç»“æžœæ•°é‡,
      "answer": "ä½ ç”Ÿæˆçš„å®Œæ•´è‡ªç„¶è¯­è¨€ç­”æ¡ˆ",
      "tool_used": "{tool_config.tool_name}"
    }

Task 2:
  subagent_type: "answer-generator"
  description: "æµ‹è¯• T2-latest-release"
  run_in_background: true
  prompt: |
    [ç±»ä¼¼æ ¼å¼ï¼Œä¸åŒçš„æµ‹è¯•ç”¨ä¾‹]

Task 3:
  subagent_type: "answer-generator"
  description: "æµ‹è¯• T3-uncertain-time"
  run_in_background: true
  prompt: |
    [ç±»ä¼¼æ ¼å¼ï¼Œä¸åŒçš„æµ‹è¯•ç”¨ä¾‹]
```

**è¿”å›žçš„ task_ids**ï¼š
- task_1_id
- task_2_id
- task_3_id

---

### æ­¥éª¤ 2.2ï¼šæ”¶é›†å¹¶è¡Œä»»åŠ¡çš„ç»“æžœ

ä½¿ç”¨ TaskOutput å·¥å…·æ”¶é›†åŽå°ä»»åŠ¡çš„ç»“æžœï¼š

```
å¯¹æ¯ä¸ª task_id:
  TaskOutput:
    task_id: {task_id}
    block: true
    timeout: 300000  # 5åˆ†é’Ÿè¶…æ—¶
```

**è§£æžæ¯ä¸ª agent è¿”å›žçš„ JSON**ï¼Œæå–ï¼š
- test_case_id
- search_query
- search_start/end/answer_end
- raw_resultsï¼ˆåŽŸå§‹æœç´¢ç»“æžœï¼‰
- result_count
- answerï¼ˆå¤„ç†åŽçš„ç­”æ¡ˆï¼‰
- tool_used

---

### æ­¥éª¤ 2.3ï¼šä¿å­˜ç»“æžœåˆ°ç‹¬ç«‹æ–‡ä»¶

å¯¹æ¯ä¸ªæ”¶é›†åˆ°çš„ç»“æžœï¼š

**2.3.1 ä¿å­˜åŽŸå§‹æœç´¢ç»“æžœ**

```bash
Write: /search-benchmark/{session_id}/raw/{tool_id}/{test_case_id}.json
å†…å®¹ï¼š
{
  "test_case_id": "{test_case_id}",
  "search_query": "{search_query}",
  "search_start": "{ISO8601}",
  "search_end": "{ISO8601}",
  "search_duration": {X.XX},
  "result_count": {count},
  "tool_used": "{tool_name}",
  "raw_results": {å®Œæ•´çš„æœç´¢ç»“æžœ JSON}
}
```

**2.3.2 ä¿å­˜å¤„ç†åŽçš„ç­”æ¡ˆ**

```bash
Write: /search-benchmark/{session_id}/answers/{tool_id}/{test_case_id}.md
å†…å®¹ï¼š
# [{test_case_id}] {test_case_name}

**æµ‹è¯•ç±»åˆ«**: {category}
**æµ‹è¯•æ—¶é—´**: {ISO8601}

## æµ‹è¯•é—®é¢˜

```
{test_case.prompt}
```

## æœç´¢å…ƒæ•°æ®

- **æœç´¢æŸ¥è¯¢**: {search_query}
- **æœç´¢å·¥å…·**: {tool_name}
- **ç»“æžœæ•°é‡**: {result_count}
- **æœç´¢è€—æ—¶**: {X.XX}ç§’
- **åˆ†æžè€—æ—¶**: {X.XX}ç§’
- **æ€»è€—æ—¶**: {X.XX}ç§’

## Claude åˆ†æžç­”æ¡ˆ

{agent ç”Ÿæˆçš„å®Œæ•´ç­”æ¡ˆ}

## åŽŸå§‹æ•°æ®å¼•ç”¨

å®Œæ•´æœç´¢ç»“æžœï¼š`raw/{tool_id}/{test_case_id}.json`
```

**2.3.3 è¿½åŠ åˆ°æ—¥å¿—æ–‡ä»¶**

```bash
cat >> "/search-benchmark/{session_id}/_test_log.jsonl" << 'EOF'
{"test_case_id":"{test_case_id}","tool_used":"{tool_id}","search_duration":{X.XX},"answer_duration":{X.XX},"total_duration":{X.XX},"status":"completed","timestamp":"{ISO8601}"}
EOF
```

---

### æ­¥éª¤ 2.4ï¼šæ˜¾ç¤ºè¿›åº¦

```
âœ… æ‰¹æ¬¡ 1 å®Œæˆï¼ˆ3/12 ä¸ªæµ‹è¯•ï¼‰
  - T1-freshness-7days: 4.2ç§’
  - T2-latest-release: 5.1ç§’
  - T3-uncertain-time: 3.8ç§’

ðŸ”„ å¯åŠ¨æ‰¹æ¬¡ 2...
```

---

### æ­¥éª¤ 2.5ï¼šå¾ªçŽ¯æŽ§åˆ¶ï¼ˆæ‰¹æ¬¡å¤„ç†ï¼‰

```
å¦‚æžœè¿˜æœ‰æœªæ‰§è¡Œçš„æµ‹è¯•ç”¨ä¾‹:
  â†’ è¿”å›žæ­¥éª¤ 2.1ï¼Œå¯åŠ¨ä¸‹ä¸€æ‰¹æ¬¡
  â†’ æ¯æ‰¹ 3-5 ä¸ªæµ‹è¯•ç”¨ä¾‹

å¦‚æžœå½“å‰å·¥å…·çš„æ‰€æœ‰æµ‹è¯•å·²å®Œæˆ:
  â†’ è¿›å…¥é˜¶æ®µä¸‰ï¼ˆæ±‡æ€»ç­”å·ï¼‰

å¦‚æžœè¿˜æœ‰å…¶ä»–å·¥å…·æœªæµ‹è¯•:
  â†’ åˆ‡æ¢å·¥å…·ï¼Œè¿”å›žæ­¥éª¤ 2.1
```

---

## é˜¶æ®µä¸‰ï¼šæ±‡æ€»ç­”å·

**ç›®æ ‡**ï¼šå°†ç‹¬ç«‹çš„ç­”æ¡ˆæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªå®Œæ•´çš„ç­”å·æ–‡ä»¶ï¼ˆç”¨äºŽè¯„åˆ†ï¼‰

### æ­¥éª¤ 3.1ï¼šè¯»å–æ‰€æœ‰ç‹¬ç«‹ç­”æ¡ˆæ–‡ä»¶

```bash
# ä½¿ç”¨ Glob èŽ·å–æ‰€æœ‰ç­”æ¡ˆæ–‡ä»¶
Glob: /search-benchmark/{session_id}/answers/{tool_id}/*.md
```

æŒ‰ test_case_id æŽ’åºã€‚

---

### æ­¥éª¤ 3.2ï¼šç”Ÿæˆæ±‡æ€»ç­”å·æ–‡ä»¶

```bash
Write: /search-benchmark/{session_id}/compiled/{tool_id}.md
å†…å®¹ï¼š
# {Tool Name} æµ‹è¯•ç­”å·

**ç”Ÿæˆæ—¶é—´**: {timestamp}
**å·¥å…·æ ‡è¯†**: {tool_id}
**æµ‹è¯•ç”¨ä¾‹æ•°**: {total_count}
**æ€»è€—æ—¶**: {X.XX}ç§’
**å¹³å‡è€—æ—¶**: {X.XX}ç§’/é¢˜

---

## é—®é¢˜ 1: [{test_case_id_1}] {test_case_name_1}

{ä»Ž answers/{tool_id}/{test_case_id_1}.md è¯»å–å†…å®¹}

---

## é—®é¢˜ 2: [{test_case_id_2}] {test_case_name_2}

{ä»Ž answers/{tool_id}/{test_case_id_2}.md è¯»å–å†…å®¹}

---

... (æ‰€æœ‰é—®é¢˜)

---

## æ±‡æ€»ç»Ÿè®¡

- **æ€»æµ‹è¯•æ•°**: {count}
- **æ€»è€—æ—¶**: {X.XX}ç§’
- **å¹³å‡è€—æ—¶**: {X.XX}ç§’/é¢˜
- **æœ€å¿«å“åº”**: {X.XX}ç§’ ({test_case_id})
- **æœ€æ…¢å“åº”**: {X.XX}ç§’ ({test_case_id})

## æ–‡ä»¶ç´¢å¼•

### åŽŸå§‹æœç´¢ç»“æžœ
{åˆ—å‡ºæ‰€æœ‰ raw/{tool_id}/*.json æ–‡ä»¶}

### ç‹¬ç«‹ç­”æ¡ˆ
{åˆ—å‡ºæ‰€æœ‰ answers/{tool_id}/*.md æ–‡ä»¶}
```

---

## é˜¶æ®µå››ï¼šè¯„åˆ†åˆ†æž

### æ­¥éª¤ 4.1ï¼šå¹¶è¡Œè°ƒç”¨ Judge Agentsï¼ˆå¦‚æžœæµ‹è¯•å¤šä¸ªå·¥å…·ï¼‰

**å¦‚æžœåªæµ‹è¯•äº†ä¸€ä¸ªå·¥å…·**ï¼š

```
Task:
  subagent_type: "judge"
  description: "è¯„åˆ†åˆ†æžç­”å·"
  prompt: |
    è¯·å¯¹ä»¥ä¸‹ç­”å·è¿›è¡Œè¯„åˆ†åˆ†æžï¼š

    **å·¥å…·åç§°**: {tool_name}
    **æ±‡æ€»ç­”å·è·¯å¾„**: /search-benchmark/{session_id}/compiled/{tool_id}.md

    **ä»»åŠ¡**:
    1. è¯»å–æ±‡æ€»ç­”å·æ–‡ä»¶
    2. è¯»å–è¯„åˆ†æ ¡å‡†ç¤ºä¾‹ï¼šskills/benchmark-framework/references/calibration.md
    3. å¯¹æ¯ä¸ªæµ‹è¯•é—®é¢˜ï¼š
       - è¯»å–å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹å®šä¹‰ï¼ˆä»Ž data/test-cases.ymlï¼‰
       - æ ¹æ® judgment_criteria é€é¡¹è¯„åˆ†
       - è®°å½•å¾—åˆ†å’Œæ‰£åˆ†ç†ç”±
    4. ç”Ÿæˆå®Œæ•´çš„åˆ†æžæŠ¥å‘Šï¼ˆç»“æž„åŒ– Markdown æ ¼å¼ï¼‰

    åˆ†æžæŠ¥å‘Šå°†ä¿å­˜åˆ°ï¼š
    /search-benchmark/{session_id}/analysis/{tool_id}_analysis.md
```

**å¦‚æžœæµ‹è¯•äº†å¤šä¸ªå·¥å…·ï¼ˆå¹¶è¡Œè¯„åˆ†ï¼‰**ï¼š

```
åœ¨å•ä¸ªå“åº”ä¸­å¯åŠ¨å¤šä¸ª Task toolsï¼š

Task 1:
  subagent_type: "judge"
  description: "è¯„åˆ† grok-search ç­”å·"
  run_in_background: true
  prompt: |
    [è¯„åˆ† grok-search çš„ prompt]

Task 2:
  subagent_type: "judge"
  description: "è¯„åˆ† builtin-websearch ç­”å·"
  run_in_background: true
  prompt: |
    [è¯„åˆ† builtin-websearch çš„ prompt]
```

ç„¶åŽä½¿ç”¨ TaskOutput æ”¶é›†ç»“æžœã€‚

---

### æ­¥éª¤ 4.2ï¼šä¿å­˜åˆ†æžæŠ¥å‘Š

```bash
Write: /search-benchmark/{session_id}/analysis/{tool_id}_analysis.md
å†…å®¹ï¼š{Judge Agent è¿”å›žçš„åˆ†æžæŠ¥å‘Š}
```

æ˜¾ç¤ºè¿›åº¦ï¼š
```
ðŸ“Š {tool_name} åˆ†æžæŠ¥å‘Šå·²ç”Ÿæˆ
```

---

## é˜¶æ®µäº”ï¼šæŠ¥å‘Šç”Ÿæˆ

### æ­¥éª¤ 5.1ï¼šç”Ÿæˆå•å·¥å…·è¯¦ç»†æŠ¥å‘Š

å¯¹æ¯ä¸ªæµ‹è¯•å·¥å…·ï¼Œç”Ÿæˆè¯¦ç»†æŠ¥å‘Šï¼š

```markdown
# {Tool Name} è¯¦ç»†æµ‹è¯•æŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: {timestamp}
**æµ‹è¯•ä¼šè¯**: {session_id}

---

## æ‰§è¡Œæ¦‚è§ˆ

- **æµ‹è¯•ç”¨ä¾‹æ•°**: {total_count}
- **æ€»è€—æ—¶**: {X.XX}ç§’
- **å¹³å‡è€—æ—¶**: {X.XX}ç§’/é¢˜
- **æ‰§è¡Œæ¨¡å¼**: å¹¶è¡Œï¼ˆæ‰¹æ¬¡å¤„ç†ï¼‰

---

## å¾—åˆ†æ±‡æ€»

{ä»Žåˆ†æžæŠ¥å‘Šä¸­æå–å¾—åˆ†æ±‡æ€»è¡¨æ ¼}

---

## æ–‡ä»¶ç´¢å¼•

### åŽŸå§‹æœç´¢ç»“æžœï¼ˆJSONï¼‰
{åˆ—å‡ºæ‰€æœ‰ raw/{tool_id}/*.json æ–‡ä»¶}

### ç‹¬ç«‹ç­”æ¡ˆï¼ˆMarkdownï¼‰
{åˆ—å‡ºæ‰€æœ‰ answers/{tool_id}/*.md æ–‡ä»¶}

### æ±‡æ€»ç­”å·
`compiled/{tool_id}.md`

### åˆ†æžæŠ¥å‘Š
`analysis/{tool_id}_analysis.md`

---

## è¯¦ç»†åˆ†æž

{ä»Žåˆ†æžæŠ¥å‘Šä¸­æå–è¯¦ç»†åˆ†æžå†…å®¹}

---
```

ä¿å­˜åˆ°ï¼š`/search-benchmark/{session_id}/{tool_id}_report.md`

---

### æ­¥éª¤ 5.2ï¼šç”Ÿæˆå¯¹æ¯”æŠ¥å‘Šï¼ˆå¦‚æžœæµ‹è¯•äº†å¤šä¸ªå·¥å…·ï¼‰

å¦‚æžœæµ‹è¯•äº†å¤šä¸ªå·¥å…·ï¼Œç”Ÿæˆå¯¹æ¯”æŠ¥å‘Šï¼š

```markdown
# æœç´¢å·¥å…·èƒ½åŠ›å¯¹æ¯”æŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: {timestamp}
**æµ‹è¯•ä¼šè¯**: {session_id}

---

## æµ‹è¯•å·¥å…·

{åˆ—å‡ºæ‰€æœ‰è¢«æµ‹è¯•çš„å·¥å…·}

---

## ç»¼åˆå¾—åˆ†å¯¹æ¯”

| ç±»åˆ« | {Tool 1} | {Tool 2} | å·®å¼‚ |
|------|---------|---------|------|
| æ—¶æ•ˆæ€§ | XX% | XX% | Â±X% |
| å‡†ç¡®åº¦ | XX% | XX% | Â±X% |
| æŠ—å¹»è§‰ | XX% | XX% | Â±X% |
| å¯æ ¸æŸ¥æ€§ | XX% | XX% | Â±X% |
| æ•ˆçŽ‡ | XX% | XX% | Â±X% |
| **æ€»åˆ†** | **XX%** | **XX%** | **Â±X%** |

---

## ä¼˜åŠ¿åˆ†æž

### {Tool 1} ä¼˜åŠ¿

{åˆ—å‡ºè¯¥å·¥å…·åœ¨å“ªäº›ç»´åº¦è¡¨çŽ°æ›´å¥½ï¼Œå¼•ç”¨å…·ä½“æµ‹è¯•ç”¨ä¾‹}

### {Tool 2} ä¼˜åŠ¿

{åˆ—å‡ºè¯¥å·¥å…·åœ¨å“ªäº›ç»´åº¦è¡¨çŽ°æ›´å¥½ï¼Œå¼•ç”¨å…·ä½“æµ‹è¯•ç”¨ä¾‹}

---

## é€é¢˜å¯¹æ¯”

### [{test_case_id}] {test_case_name}

**{Tool 1} è¡¨çŽ°**:
- æœç´¢è€—æ—¶ï¼š{X.XX}ç§’
- å¾—åˆ†ï¼š{X}/{max_score}
- å…³é”®ä¼˜ç‚¹ï¼š[...]
- å…³é”®ä¸è¶³ï¼š[...]
- ç­”æ¡ˆæ–‡ä»¶ï¼š`answers/{tool_1_id}/{test_case_id}.md`

**{Tool 2} è¡¨çŽ°**:
- æœç´¢è€—æ—¶ï¼š{X.XX}ç§’
- å¾—åˆ†ï¼š{X}/{max_score}
- å…³é”®ä¼˜ç‚¹ï¼š[...]
- å…³é”®ä¸è¶³ï¼š[...]
- ç­”æ¡ˆæ–‡ä»¶ï¼š`answers/{tool_2_id}/{test_case_id}.md`

**èƒœå‡ºè€…**: {Tool X} (+Xåˆ†)

---

{é‡å¤æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹}

---

## ç»“è®ºä¸Žå»ºè®®

{æ ¹æ®å¯¹æ¯”ç»“æžœç»™å‡ºä½¿ç”¨å»ºè®®}

---
```

ä¿å­˜åˆ°ï¼š`/search-benchmark/{session_id}/summary_comparison.md`

---

### æ­¥éª¤ 5.3ï¼šå‘ç”¨æˆ·å±•ç¤ºç»“æžœ

æ˜¾ç¤ºæµ‹è¯•æ‘˜è¦ï¼š

```
âœ… æœç´¢èƒ½åŠ›åŸºå‡†æµ‹è¯•å®Œæˆï¼ˆå¹¶è¡Œæ¨¡å¼ï¼‰

ðŸ“ æµ‹è¯•ä¼šè¯ç›®å½•ï¼š/search-benchmark/{session_id}/

ðŸ“Š ç»“æžœæ–‡ä»¶ï¼š

**åŽŸå§‹æ•°æ®**ï¼ˆæ¯ä¸ªé—®é¢˜ç‹¬ç«‹æ–‡ä»¶ï¼‰:
- raw/{tool_id}/T1-freshness-7days.json
- raw/{tool_id}/T2-latest-release.json
- ... (å…± {count} ä¸ª)

**å¤„ç†åŽç­”æ¡ˆ**ï¼ˆæ¯ä¸ªé—®é¢˜ç‹¬ç«‹æ–‡ä»¶ï¼‰:
- answers/{tool_id}/T1-freshness-7days.md
- answers/{tool_id}/T2-latest-release.md
- ... (å…± {count} ä¸ª)

**æ±‡æ€»æ–‡ä»¶**:
- compiled/{tool_id}.md          # å®Œæ•´ç­”å·ï¼ˆç”¨äºŽè¯„åˆ†ï¼‰
- analysis/{tool_id}_analysis.md # åˆ†æžæŠ¥å‘Š
- {tool_id}_report.md            # è¯¦ç»†æŠ¥å‘Š
{å¦‚æžœæµ‹è¯•äº†å¤šä¸ªå·¥å…·}
- summary_comparison.md          # å¯¹æ¯”æŠ¥å‘Š

ðŸŽ¯ å…³é”®æŒ‡æ ‡ï¼š
{Tool 1}:
  - æ€»å¾—åˆ†ï¼šXX / 120 (XX%)
  - æœ€å¼ºç»´åº¦ï¼š{category} (XX%)
  - æœ€å¼±ç»´åº¦ï¼š{category} (XX%)
  - å¹³å‡è€—æ—¶ï¼š{X.XX}ç§’/é¢˜

{å¦‚æžœæµ‹è¯•äº† Tool 2ï¼Œæ˜¾ç¤ºå…¶æŒ‡æ ‡}

âš¡ å¹¶è¡Œæ‰§è¡Œæ•ˆçŽ‡ï¼š
- æ€»è€—æ—¶ï¼š{X.XX}ç§’
- é¢„ä¼°ä¸²è¡Œè€—æ—¶ï¼š{X.XX}ç§’
- æé€Ÿæ¯”ï¼š{X.X}x

ðŸ’¡ å»ºè®®æŸ¥çœ‹ï¼š
- å¯¹æ¯”æŠ¥å‘Šäº†è§£å·¥å…·å·®å¼‚ï¼ˆå¦‚æžœæµ‹è¯•äº†å¤šä¸ªå·¥å…·ï¼‰
- åˆ†æžæŠ¥å‘Šäº†è§£å…·ä½“æ‰£åˆ†åŽŸå› 
- ç‹¬ç«‹ç­”æ¡ˆæ–‡ä»¶å¿«é€Ÿå®šä½ç‰¹å®šé—®é¢˜çš„ç»“æžœ
```

---

## å¹¶è¡Œæ‰§è¡Œçš„ä¼˜åŠ¿

### âœ… é€Ÿåº¦æå‡
- **ä¸²è¡Œæ¨¡å¼**ï¼š12 ä¸ªæµ‹è¯• Ã— 5ç§’/ä¸ª = 60ç§’
- **å¹¶è¡Œæ¨¡å¼**ï¼ˆ3ä¸ªä¸€æ‰¹ï¼‰ï¼š4æ‰¹ Ã— 5ç§’/æ‰¹ = 20ç§’
- **æé€Ÿæ¯”**ï¼š3å€

### âœ… ä¸Šä¸‹æ–‡ç‹¬ç«‹
- æ¯ä¸ª agent ç‹¬ç«‹å¤„ç†ä¸€ä¸ªé—®é¢˜
- é¿å…ä¸Šä¸‹æ–‡æ··æ·†
- ä¾¿äºŽè°ƒè¯•å’Œè¿½æº¯

### âœ… æ–‡ä»¶ç»„ç»‡æ¸…æ™°
- åŽŸå§‹æ•°æ®å’Œå¤„ç†ç»“æžœåˆ†ç¦»
- æ¯ä¸ªé—®é¢˜ç‹¬ç«‹æ–‡ä»¶
- ä¾¿äºŽåŽç»­æ¯”å¯¹å’Œåˆ†æž

---

## é”™è¯¯å¤„ç†

### å•ä¸ªä»»åŠ¡å¤±è´¥

```
å¦‚æžœæŸä¸ª answer-generator Agent å¤±è´¥ï¼š
  - è®°å½•é”™è¯¯åˆ° _test_log.jsonl
  - ä¿å­˜é”™è¯¯ä¿¡æ¯åˆ° answers/{tool_id}/{test_case_id}_error.md
  - ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼ˆä¸ä¸­æ–­æ•´ä¸ªæµç¨‹ï¼‰
  - åœ¨æœ€ç»ˆæŠ¥å‘Šä¸­æ ‡æ³¨å¤±è´¥çš„æµ‹è¯•
```

### æ‰¹é‡ä»»åŠ¡è¶…æ—¶

```
å¦‚æžœæ•´æ‰¹ä»»åŠ¡è¶…è¿‡ 5 åˆ†é’Ÿæœªå®Œæˆï¼š
  - ä½¿ç”¨ TaskOutput æ£€æŸ¥å„ä»»åŠ¡çŠ¶æ€
  - æ ‡è®°è¶…æ—¶çš„ä»»åŠ¡
  - ç»§ç»­å¤„ç†å·²å®Œæˆçš„ä»»åŠ¡
```

---

## å®žçŽ°æç¤º

### æ‰¹æ¬¡å¤§å°å»ºè®®

```javascript
// æ ¹æ®æµ‹è¯•ç”¨ä¾‹æ€»æ•°å†³å®šæ‰¹æ¬¡å¤§å°
if (total_tests <= 3) {
  batch_size = total_tests  // å…¨éƒ¨å¹¶è¡Œ
} else if (total_tests <= 6) {
  batch_size = 3            // æ¯æ‰¹ 3 ä¸ª
} else {
  batch_size = 5            // æ¯æ‰¹ 5 ä¸ª
}
```

### æ—¶é—´æˆ³ç”Ÿæˆ

```bash
# ISO 8601 æ ¼å¼
date -u +"%Y-%m-%dT%H:%M:%SZ"

# ä¼šè¯ ID æ ¼å¼
date +"%Y%m%d-%H%M%S"
```

---

## æ ¸å¿ƒåŽŸåˆ™

1. âœ… **å¹¶è¡Œä¼˜å…ˆ**ï¼šæ‰¹é‡å¯åŠ¨å¤šä¸ª agents
2. âœ… **ç‹¬ç«‹å­˜å‚¨**ï¼šæ¯ä¸ªé—®é¢˜ä¿å­˜åˆ°ç‹¬ç«‹æ–‡ä»¶
3. âœ… **ä¸Šä¸‹æ–‡éš”ç¦»**ï¼šæ¯ä¸ª agent ç‹¬ç«‹å¤„ç†
4. âœ… **å®¹é”™æœºåˆ¶**ï¼šå•ä¸ªå¤±è´¥ä¸å½±å“å…¶ä»–
5. âœ… **ä¾¿äºŽæ¯”å¯¹**ï¼šæ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡ç»“æž„

---

çŽ°åœ¨å¼€å§‹æ‰§è¡Œé˜¶æ®µä¸€ï¼šåˆå§‹åŒ–å‡†å¤‡ã€‚
